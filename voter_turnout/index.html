<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Minnesota Voter Turnout</title>
  <meta name="description" content="Minnesota Voter Turnout">
  <meta name="author" content="Frey Hargarten - StarTribune">

  <link rel="stylesheet" href="../_common_resources/styles/startribune_dataviz_styles.css" />
  <link href="../_common_resources/charts/c3-master/c3.css" rel="stylesheet" type="text/css">
  
  <style>
    #chart .c3-line, #chartTrend .c3-line, #chartMid .c3-line, #chartHistory .c3-line  { stroke-width:5px !important; }
    #chartNational { height:780px; }
    .map { display:inline-block; width:32%; text-align:center; }
    .quantize { padding-left:54px; }
    path:hover { cursor:default !important; }
    .hottest { fill:#a70518; }

/*SWATCHES*/
    .republican text { background-color:#bbb; fill:#8C1B17 !important; pointer-events: all; color:#8C1B17; }
    .republican line { background-color:#8C1B17; fill:#8C1B17 !important; stroke:#8C1B17 !important; pointer-events: all; color:#8C1B17; }
    .mid { background-color:#aaa; fill:#aaa !important; color:black !important; pointer-events: all; font-weight:bold; }
    .democrat text { background-color:#3F88C5; fill:#3F88C5 !important; pointer-events: all; color:#3F88C5;  }
    .democrat line { background-color:#3F88C5; fill:#3F88C5 !important; stroke:#3F88C5 !important; pointer-events: all; color:#3F88C5;  }

    .chart { display:none; }

    @media (max-width:920px) { 
      .map { display:block; width:100%; text-align:center; }
      .quantize { padding-left:72px; }
    }
  </style> 
</head>

<body>
  <div id="wrapper">

<div class="chart" id="national">
  <div class="chartTitle">Minnesota's nationally high voter turnout</div>
  <div id="chartNational"></div>
  <div class="source">Source: <a href="https://www.electproject.org/2012g" target="new_">United States Election Project</a></div>
</div>

<div class="chart" id="history">
  <div class="chartTitle">An up and down pattern</div>
  <div id="chartHistory"></div>
  <div class="source">Source: <a href="https://www.sos.state.mn.us/election-administration-campaigns/data-maps/historical-voter-turnout-statistics/" target="new_">Minnesota Secretary of State</a></div>
</div>

<div class="chart" id="party">
  <div class="chartTitle">Minnesota voter turnout since 1990</div>
  <div id="chart"></div>
  <div class="source">Source: <a href="https://www.sos.state.mn.us/election-administration-campaigns/data-maps/historical-voter-turnout-statistics/" target="new_">Minnesota Secretary of State</a></div>
</div>

<div class="chart" id="trend">
  <div class="chartTitle">A slight downturn in presidential election turnout</div>
  <div id="chartTrend"></div>
  <div class="source">Source: <a href="https://www.sos.state.mn.us/election-administration-campaigns/data-maps/historical-voter-turnout-statistics/" target="new_">Minnesota Secretary of State</a></div>
</div>

<div class="chart" id="midterm">
  <div class="chartTitle">Big drops in midterm election turnout</div>
  <div id="chartMid"></div>
  <div class="source">Source: <a href="https://www.sos.state.mn.us/election-administration-campaigns/data-maps/historical-voter-turnout-statistics/" target="new_">Minnesota Secretary of State</a></div>
</div>

<div style="display:none">
<div id="mapCounty" class="map"><svg width="320" height="350" viewBox="0 0 500 550" preserveAspectRatio="xMidYMid"></svg>
<div class="chartTitle">Voter Turnout: MN Counties</div>
<div class="quantize">
<span class='legend' id="aidQ">
  <nav class='legend clearfix'>
    <span style='background:#fff;'>Less</span>
    <span class="gray1"></span>
    <span class="gray2"></span>
    <span class="gray3"></span>
    <span class="gray4"></span>
    <span class="gray5"></span>
    <span style='background:#fff;'>More</span>
</span>
</div>
</div>

<div id="mapPrecinct" class="map"><svg width="320" height="350" viewBox="0 0 500 550" preserveAspectRatio="xMidYMid"></svg>
<div class="chartTitle">Voter Turnout: MN Precincts</div>
<div class="quantize">
<span class='legend' id="aidQ">
  <nav class='legend clearfix'>
    <span style='background:#fff;'>Less</span>
    <span class="gray1"></span>
    <span class="gray2"></span>
    <span class="gray3"></span>
    <span class="gray4"></span>
    <span class="gray5"></span>
    <span style='background:#fff;'>More</span>
</span>
</div>
</div>

<div id="mapMetro" class="map"><svg width="320" height="350" viewBox="0 0 500 550" preserveAspectRatio="xMidYMid"></svg>
<div class="chartTitle">Voter Turnout: MN Metro Precincts</div>
<div class="quantize">
<span class='legend' id="aidQ">
  <nav class='legend clearfix'>
    <span style='background:#fff;'>Less</span>
    <span class="gray1"></span>
    <span class="gray2"></span>
    <span class="gray3"></span>
    <span class="gray4"></span>
    <span class="gray5"></span>
    <span style='background:#fff;'>More</span>
</span>
</div>
</div>
</div>

  </div>
</body>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="../_common_resources/charts/c3-master/c3.min.js"></script>
<script>

$.urlParam = function(name){
  var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
  return results[1] || 0;
}

var selected = $.urlParam('chart');

$(".chart").hide();
$("#" + selected).show();


function chartBuild(){

d3.csv("./data/turnout.csv", function(d) {
  return {
    year: +d.year,
    all_voters: +d.all_voters,
    voted: +d.voted,
    turnout: +d.turnout,
    rpm: +d.rpm,
    dfl: +d.dfl
  };
}, function(error, rows) {

var dataT = rows;

var x = [];
var turnout = [];
var gop = [];
var dfl = [];

x[0] = "x";
turnout[0] = "Voter Turnout";
gop[0] = "DFL Seats";
dfl[0] = "GOP Seats";

for (var i=1; i <= dataT.length; i++){
  x[i] = dataT[i-1].year;
  turnout[i] = dataT[i-1].turnout;
  gop[i] = dataT[i-1].rpm;
  dfl[i] = dataT[i-1].dfl;
}

var  padding = {
        top: 20,
        right: 60,
        bottom: 20,
        left: 60,
    };

var chartPop = c3.generate({
      bindto: "#chart",
      padding: padding,
      data: {
            x: 'x',
            columns: [
                x,
                turnout
                // dfl,
                // gop
            ],
        types: {
          'Voter Turnout':'line',
          'DFL Seats':'line',
          'GOP Seats':'line'
         }
        },        
        legend: {
            show: false
        },
        color: {
              pattern: ['#333','#3F88C5','#8C1B17']
            },
        axis: {
              y: {
                    max: 1,
                    min: 0,
                    padding: {bottom: 0, top: 0},
                    tick: {
                     count: 4,
                     format: d3.format('%')
                    }
                },
            x: {
                 tick: {
                     values: [1990,1996,2000,2004,2008,2012,2014],
                     count: 7
                }
            }
        },
        grid: {
        x: {
            lines: [
                {value: '1990', text: 'Midterm: DFL House', position: 'start', class: 'democrat'},
                {value: '1992', text: 'Presidential: DFL House', position: 'start', class: 'democrat'},
                {value: '1994', text: 'Midterm: DFL House', position: 'start', class: 'democrat'},
                {value: '1996', text: 'Presidential: DFL House', position: 'start', class: 'democrat'},
                {value: '1998', text: 'Midterm: GOP House', position: 'start', class: 'republican'},
                {value: '2000', text: 'Presidential: GOP House', position: 'start', class: 'republican'},
                {value: '2002', text: 'Midterm: GOP House', position: 'start', class: 'republican'},
                {value: '2004', text: 'Presidential: GOP House', position: 'start', class: 'republican'},
                {value: '2006', text: 'Midterm: DFL House', position: 'start', class: 'democrat'},
                {value: '2008', text: 'Presidential: DFL House', position: 'start', class: 'democrat'},
                {value: '2010', text: 'Midterm: GOP House', position: 'start', class: 'republican'},
                {value: '2012', text: 'Presidential: DFL House', position: 'start', class: 'democrat'},
                {value: '2014', text: 'Midterm: GOP House', position: 'start', class: 'republican'},
            ]
        }
    }
});

});

}

chartBuild();

function chartT(){

d3.csv("./data/turnoutTrend.csv", function(d) {
  return {
    year: +d.year,
    all_voters: +d.all_voters,
    voted: +d.voted,
    turnout: +d.turnout,
    reg: +d.reg,
    reg_pct: d.reg_pct
  };
}, function(error, rows) {

var dataT = rows;

var x = [];
var turnout = [];

x[0] = "x";
turnout[0] = "Voter Turnout";
// gop[0] = "DFL Vote %";
// dfl[0] = "GOP Vote %";

for (var i=1; i <= dataT.length; i++){
  x[i] = dataT[i-1].year;
  turnout[i] = dataT[i-1].turnout;
}

var  padding = {
        top: 20,
        right: 60,
        bottom: 20,
        left: 60,
    };

var chartT = c3.generate({
      bindto: "#chartTrend",
      padding: padding,
      data: {
            x: 'x',
            columns: [
                x,
                turnout
            ],
        types: {
          'Voter Turnout':'line'
         }
        },        
        legend: {
            show: false
        },
        color: {
              pattern: ['#333']
            },
        axis: {
              y: {
                    max: 1,
                    min: 0,
                    padding: {bottom: 0, top: 0},
                    tick: {
                     count: 4,
                     format: d3.format('%')
                    }
                },
            x: {
                 tick: {
                     values: [1950,1964,1980,1996,2012],
                     count: 5
                }
            }
        },
        // regions: [
        //     {axis: 'x', start: '1980', end: '1990', class: 'hottest'},
        // ],
        grid: {
        x: {
            // lines: [
            //     {value: '2000', text: 'Bush (R) Win', position: 'start'},
            //     {value: '2002', text: 'Midterm', position: 'start'},
            //     {value: '2004', text: 'Bush (R) Win', position: 'start'},
            //     {value: '2006', text: 'Midterm', position: 'start'},
            //     {value: '2008', text: 'Obama (D) Win', position: 'start'},
            //     {value: '2010', text: 'Midterm', position: 'start'},
            //     {value: '2012', text: 'Obama (D) Win', position: 'start'},
            //     {value: '2014', text: 'Midterm', position: 'start'},
            // ]
        }
    },
         regions: [
        {axis: 'x', start: 2004, end: 2012, class: 'hottest'},
    ]
});

});

}

chartT();

function chartM(){

d3.csv("./data/turnoutM.csv", function(d) {
  return {
    year: +d.year,
    all_voters: +d.all_voters,
    voted: +d.voted,
    turnout: +d.turnout,
    reg: +d.reg,
    reg_pct: d.reg_pct
  };
}, function(error, rows) {

var dataT = rows;

var x = [];
var turnout = [];

x[0] = "x";
turnout[0] = "Voter Turnout";
// gop[0] = "DFL Vote %";
// dfl[0] = "GOP Vote %";

for (var i=1; i <= dataT.length; i++){
  x[i] = dataT[i-1].year;
  turnout[i] = dataT[i-1].turnout;
}

var  padding = {
        top: 20,
        right: 60,
        bottom: 20,
        left: 60,
    };

var chartT = c3.generate({
      bindto: "#chartMid",
      padding: padding,
      data: {
            x: 'x',
            columns: [
                x,
                turnout
            ],
        types: {
          'Voter Turnout':'line'
         }
        },        
        legend: {
            show: false
        },
        color: {
              pattern: ['#333']
        },
        axis: {
              y: {
                    max: 1,
                    min: 0,
                    padding: {bottom: 0, top: 0},
                    tick: {
                     count: 4,
                     format: d3.format('%')
                    }
                },
            x: {
                 tick: {
                     values: [1950,1964,1980,1996,2014],
                     count: 5
                }
            }
        },
        // regions: [
        //     {axis: 'x', start: '1980', end: '1990', class: 'hottest'},
        // ],
        grid: {
        x: {
            // lines: [
            //     {value: '2000', text: 'Bush (R) Win', position: 'start'},
            //     {value: '2002', text: 'Midterm', position: 'start'},
            //     {value: '2004', text: 'Bush (R) Win', position: 'start'},
            //     {value: '2006', text: 'Midterm', position: 'start'},
            //     {value: '2008', text: 'Obama (D) Win', position: 'start'},
            //     {value: '2010', text: 'Midterm', position: 'start'},
            //     {value: '2012', text: 'Obama (D) Win', position: 'start'},
            //     {value: '2014', text: 'Midterm', position: 'start'},
            // ]
        }
    },
         regions: [
        {axis: 'x', start: 2002, end: 2014, class: 'hottest'},
    ]
});

});

}

chartM();


function chartN(){

d3.csv("./data/turnout.csv", function(d) {
  return {
    state: d.ab,
    turnout: +d.turnout,
    turnout2012: +d.turnout2012
  };
}, function(error, rows) {

var dataT = rows;

var x = [];
var turnout = [];
var turnout2012 = [];

x[0] = "x";
turnout[0] = "2016 Turnout";
turnout2012[0] = "2012 Turnout";
// gop[0] = "DFL Vote %";
// dfl[0] = "GOP Vote %";

for (var i=1; i <= dataT.length; i++){
  x[i] = dataT[i-1].state;
  turnout[i] = dataT[i-1].turnout;
  turnout2012[i] = dataT[i-1].turnout2012;
}

var  padding = {
        top: 20,
        right: 60,
        bottom: 20,
        left: 60,
    };

var chartT = c3.generate({
      bindto: "#chartNational",
      padding: padding,
      data: {
            x: 'x',
            columns: [
                x,
                turnout,
                turnout2012
            ],
        types: {
          '2016 Turnout':'bar',
          '2012 Turnout':'bar'
         },
         colors: {
              'Voter Turnout': function(d) { 

                // console.log(d);

              if (d.index == 0 || d.index == 36) { return "#000"; }
              else { return "#bbb"; }
          }
            }
        },
        // legend: {
        //     show: false
        // },
        color:{
          pattern: ["#333","#aaa"]
        },
        axis: {
              rotated: true,
              y: {
                    max: 1,
                    min: 0,
                    padding: {bottom: 0, top: 0},
                    tick: {
                     count: 4,
                     format: d3.format('%')
                    }
                },
            x: {
                type: 'category'
                //  tick: {
                //      values: [1950,1965,1980,1996,2012],
                //      count: 5
                // }
            }
        },
        // regions: [
        //     {axis: 'x', start: '1980', end: '1990', class: 'hottest'},
        // ],
        grid: {
        x: {
            // lines: [
            //     {value: '2000', text: 'Bush (R) Win', position: 'start'},
            //     {value: '2002', text: 'Midterm', position: 'start'},
            //     {value: '2004', text: 'Bush (R) Win', position: 'start'},
            //     {value: '2006', text: 'Midterm', position: 'start'},
            //     {value: '2008', text: 'Obama (D) Win', position: 'start'},
            //     {value: '2010', text: 'Midterm', position: 'start'},
            //     {value: '2012', text: 'Obama (D) Win', position: 'start'},
            //     {value: '2014', text: 'Midterm', position: 'start'},
            // ]
        }
    }
});

}

chartN();

function chartH(){

d3.csv("./data/turnoutH.csv", function(d) {
  return {
    year: +d.year,
    all_voters: +d.all_voters,
    voted: +d.voted,
    turnout: +d.turnout,
    reg: +d.reg,
    reg_pct: d.reg_pct
  };
}, function(error, rows) {

var dataT = rows;

var x = [];
var turnout = [];

x[0] = "x";
turnout[0] = "Voter Turnout";
// gop[0] = "DFL Vote %";
// dfl[0] = "GOP Vote %";

for (var i=1; i <= dataT.length; i++){
  x[i] = dataT[i-1].year;
  turnout[i] = dataT[i-1].turnout;
}

var  padding = {
        top: 20,
        right: 60,
        bottom: 20,
        left: 60,
    };

var chartT = c3.generate({
      bindto: "#chartHistory",
      padding: padding,
      data: {
            x: 'x',
            columns: [
                x,
                turnout
            ],
        types: {
          'Voter Turnout':'line'
         }
        },
        legend: {
            show: false
        },
        color: {
              pattern: ['#333']
            },
        axis: {
              y: {
                    max: 1,
                    min: 0,
                    padding: {bottom: 0, top: 0},
                    tick: {
                     count: 4,
                     format: d3.format('%')
                    }
                },
            x: {
                 tick: {
                     values: [1950,1964,1980,1996,2012],
                     count: 5
                }
            }
        },
        // regions: [
        //     {axis: 'x', start: '1980', end: '1990', class: 'hottest'},
        // ],
        grid: {
        x: {
            lines: [
                {value: '1952', text: 'Presidential', position: 'start'},
                {value: '1956', text: 'Presidential', position: 'start'},
                {value: '1960', text: 'Presidential', position: 'start'},
                {value: '1964', text: 'Presidential', position: 'start'},
                {value: '1968', text: 'Presidential', position: 'start'},
                {value: '1972', text: 'Presidential', position: 'start'},
                {value: '1976', text: 'Presidential', position: 'start'},
                {value: '1980', text: 'Presidential', position: 'start'},
                {value: '1984', text: 'Presidential', position: 'start'},
                {value: '1988', text: 'Presidential', position: 'start'},
                {value: '1992', text: 'Presidential', position: 'start'},
                {value: '1996', text: 'Presidential', position: 'start'},
                {value: '2000', text: 'Presidential', position: 'start'},
                {value: '2004', text: 'Presidential', position: 'start'},
                {value: '2008', text: 'Presidential', position: 'start'},
                {value: '2012', text: 'Presidential', position: 'start'}
            ]
        }
    },
         regions: [
        {axis: 'x', start: 2004, end: 2012, class: 'hottest'},
    ]
});

});

}

chartH();

// function mapBuild(container, boxContainer, chartContainer, shape, race, geo, dataCompare, index) {

// var width = 320,
//     height = 400,
//     centered;

// if (geo=="us") { var projection = d3.geo.albersUsa().scale(700).translate([330, 200]); }
// else if (geo=="mn") { var projection = d3.geo.albersUsa().scale(5037).translate([50, 970]); }
// else if (geo=="metro") { var projection = d3.geo.mercator().scale([16800]).center([-92.384033,45.209134]); }

// var path = d3.geo.path()
//     .projection(projection);

// var svg = d3.select(container + " svg")
//     .attr("width", width)
//     .attr("height", height);

// svg.append("rect")
//     .attr("class", "background")
//     .attr("width", width)
//     .attr("height", height);

// var g = svg.append("g");

// d3.json("shapefiles/" + shape, function(error, us) {

//   g.append("g")
//       .attr("class", "states")
//     .selectAll("path")
//       .data(us.features)
//     .enter().append("path")
//       .attr("d", path)
//       // .on("click", clicked)
//       .attr("id", function(d) { return d.properties.county_id; })
//       .attr("class", function(d){
//         if (race == "county") { 
//         if (d.vPerR >= 0.8) { return "gray5"; }
//         else if (d.properties.vPerR >= 0.7) { return "gray4"; }
//         else if (d.properties.vPerR >= 0.6) { return "gray3"; }
//         else if (d.properties.vPerR >= 0.5) { return "gray2"; }
//         else if (d.properties.vPerR >= 0.4) { return "gray1"; }
//         } else {
//           for (var i=0; i < dataCompare.length; i++){
//             if (Number(d.properties.PCTCODE) == Number(dataCompare[i].PCTCODE)){
//               var pct = dataCompare[i].votes / dataCompare[i].reg;
//               if (pct >= 0.9) { return "gray5"; }
//               else if (pct >= 0.8) { return "gray4"; }
//               else if (pct >= 0.7) { return "gray3"; }
//               else if (pct >= 0.6) { return "gray2"; }
//               else if (pct >= 0.5) { return "gray1"; }
//             }
//           }
//         }
//        })
//       .style("stroke-width", "0")
//       .style("stroke", "#fff")
//       .call(d3.helper.tooltip(function(d, i){
//         if (race == "county") { 
//           if (d.vPerR >= 0.8) { var swatch = "gray5"; }
//           else if (d.properties.vPerR >= 0.7) { var swatch = "gray4"; }
//           else if (d.properties.vPerR >= 0.6) { var swatch = "gray3"; }
//           else if (d.properties.vPerR >= 0.5) { var swatch = "gray2"; }
//           else if (d.properties.vPerR >= 0.4) { var swatch = "gray1"; }
//           return "<div>" + d.properties.county + " County</div><div class='" + swatch + "'>" + d3.format("%")(d.properties.vPerR) + " voter turnout</div>"; }

//         else { 
//           for (var i=0; i < dataCompare.length; i++){
//           if (Number(d.properties.PCTCODE) == Number(dataCompare[i].PCTCODE)){
//             var pct = dataCompare[i].votes / dataCompare[i].reg;
//           if (pct >= 0.9) { var swatch = "gray5"; }
//           else if (pct >= 0.8) { var swatch = "gray4"; }
//           else if (pct >= 0.7) { var swatch = "gray3"; }
//           else if (pct >= 0.6) { var swatch = "gray2"; }
//           else if (pct >= 0.5) { var swatch = "gray1"; }
//           return "<div>" + d.properties.PCTNAME+ "</div><div class='" + swatch + "'>" + d3.format("%")(pct) + " voter turnout</div>";
//            }
//          }
//        }
//       }));

//   g.append("path")
//       //.datum(topojson.mesh(us, us.features, function(a, b) { return a !== b; }))
//       .attr("id", "state-borders")
//       .attr("d", path);

// });

// var zoom = d3.behavior.zoom()
//     .on("zoom",function() {
//         g.attr("transform","translate("+ 
//             d3.event.translate.join(",")+")scale("+d3.event.scale+")");
//         g.selectAll("circle")
//             .attr("d", path.projection(projection));
//         g.selectAll("path")  
//             .attr("d", path.projection(projection)); 

//   });

// $(".zoom, .switch, #close, .mapSwitch").click(function() {
//   clicked2();
// });

// function clicked(d) {
//   var x, y, k;

//   if (d && centered !== d) {
//     var centroid = path.centroid(d);
//     x = centroid[0];
//     y = centroid[1];
//     k = 6;
//     centered = d;
//   } else {
//     x = width / 2;
//     y = height / 2;
//     k = 3;
//     centered = null;
//   }

//   d3.selectAll("#mapMetro path, #mapState path")
//       .classed("faded", false)
//       .classed("active", false);

//   g.selectAll("path")
//       .classed("faded", true)
//       .classed("active", centered && function (d) { return d === centered; });
// }

// function clicked2(d) {
//   var x, y, k;

//   if (d && centered !== d) {
//     var centroid = path.centroid(d);
//     x = centroid[0];
//     y = centroid[1];
//     k = 1;
//     centered = d;
//   } else {
//     x = width / 2;
//     y = height / 2;
//     k = 1;
//     centered = null;
//   }

//   g.selectAll("path")
//       .classed("faded", false)
//       .classed("active", centered && function (d) { return d === centered; });
// }

// }

// d3.helper = {};

// d3.helper.tooltip = function(accessor){
//     return function(selection){
//         var tooltipDiv;
//         var bodyNode = d3.select('body').node();
//         selection.on("mouseover", function(d, i){
//             // Clean up lost tooltips
//             d3.select('body').selectAll('div.tooltip').remove();
//             // Append tooltip
//             tooltipDiv = d3.select('body').append('div').attr('class', 'tooltip');
//             var absoluteMousePos = d3.mouse(bodyNode);
//             tooltipDiv.style('left', (absoluteMousePos[0] + 10)+'px')
//                 .style('top', (absoluteMousePos[1] - 15)+'px')
//                 .style('position', 'absolute') 
//                 .style('z-index', 1001);
//             // Add text using the accessor function
//             var tooltipText = accessor(d, i) || '';
//             // Crop text arbitrarily
//             //tooltipDiv.style('width', function(d, i){return (tooltipText.length > 80) ? '300px' : null;})
//             //    .html(tooltipText);
//         })
//         .on('mousemove', function(d, i) {
//             // Move tooltip
//             var absoluteMousePos = d3.mouse(bodyNode);
//             tooltipDiv.style('left', (absoluteMousePos[0] + 10)+'px')
//                 .style('top', (absoluteMousePos[1] - 15)+'px');
//             var tooltipText = accessor(d, i) || '';
//             tooltipDiv.html(tooltipText);
//         })
//         .on("mouseout", function(d, i){
//             // Remove tooltip
//             tooltipDiv.remove();
//         });

//     };
// };


// d3.csv("./data/voterturnout2012.csv", function(d) {
//   return {
//     id: d.pct_id,
//     PCTCODE: d.PCTCODE,
//     name: d.PCTNAME,
//     county: d.COUNTYNAME,
//     reg: +d.REG,
//     votes: +d.TOTVOTING
//   };
// }, function(error, rows) {

// var data = rows;

// mapBuild("#mapCounty", "#infobox", "#chart", "county_turnout.json", "county", "mn", null, 0);
// mapBuild("#mapPrecinct", "#infobox", "#chart", "mnprecincts.json", "precinct", "mn", data, 0);
// mapBuild("#mapMetro", "#infobox", "#chart", "mnprecincts_metro.json", "metro", "metro", data, 0);

// });


</script>

</html>